<div class="game-container">
    <div class="glass-panel">
        <header class="header">
            <h1>‰∫îÂ≠êÊ£ã (Angular 19)</h1>
            <div class="status-bar">
                <div class="status" [ngClass]="{
          'black-turn': currentPlayer === Player.BLACK && gameStatus === GameStatus.PLAYING,
          'white-turn': currentPlayer === Player.WHITE && gameStatus === GameStatus.PLAYING,
          'winner': gameStatus !== GameStatus.PLAYING
        }">
                    {{ getStatusMessage() }}
                </div>
                <div class="timer">
                    ‚è±Ô∏è {{ formatTime(moveTime) }}
                </div>
            </div>
        </header>

        <div class="board-wrapper">
            <div class="board">
                <div class="grid-lines">
                    <div *ngFor="let _ of [].constructor(15); let i = index" class="line horizontal"
                        [style.top.%]="i * 100 / 14"></div>
                    <div *ngFor="let _ of [].constructor(15); let i = index" class="line vertical"
                        [style.left.%]="i * 100 / 14"></div>
                </div>

                <div class="cells">
                    <div *ngFor="let row of board; let rIndex = index" class="row">
                        <div *ngFor="let cell of row; let cIndex = index" class="cell"
                            (click)="handleCellClick(rIndex, cIndex)">

                            <div *ngIf="cell !== Player.NONE" class="piece" [ngClass]="{
                     'black': cell === Player.BLACK,
                     'white': cell === Player.WHITE,
                     'last-move': lastMove?.row === rIndex && lastMove?.col === cIndex,
                     'winning': isWinningCell(rIndex, cIndex)
                   }">
                            </div>

                            <div *ngIf="cell === Player.NONE && gameStatus === GameStatus.PLAYING" class="preview-piece"
                                [ngClass]="{
                     'black': currentPlayer === Player.BLACK,
                     'white': currentPlayer === Player.WHITE
                   }">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="btn secondary" (click)="undoMove()" [disabled]="gameStatus !== GameStatus.PLAYING">
                ‚Ü©Ô∏è ÊÇîÊ£ã
            </button>
            <button class="btn primary" (click)="resetGame()">
                üîÑ ÈáçÊñ∞ÂºÄÂßã
            </button>
        </div>
    </div>
</div>